<!--
  Generated template for the User page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>用户中心</ion-title>
  </ion-navbar>

</ion-header>


<ion-content class='black' *ngIf="user">
  <ion-list no-lines class="top black">
    <ion-item (click)="goToDetailsPage()">
      <ion-thumbnail item-left>
        <ion-img src="{{user.avatar}}">
        </ion-img>
        <ion-spinner class="abs"></ion-spinner>
      </ion-thumbnail>
      <h2>{{user.username}}</h2>
      <p>{{user.signature || '这家伙很懒，什么个性签名都没有留下。'}}</p>
    </ion-item>
  </ion-list>

  <ion-list no-lines class="top black">
    <button ion-item (click)="goToSettingsPage()">
      <ion-icon color="primary" name="contact" item-left></ion-icon>
      我的关注
    </button>
    <button ion-item (click)="goToSettingsPage()">
      <ion-icon color="secondary"name="contacts" item-left></ion-icon>
      我的好友
    </button>
    <button ion-item (click)="goToSettingsPage()">
      <ion-icon color="dark" name="paper" item-left></ion-icon>
      我的文章
    </button>
  </ion-list>

  <ion-list no-lines class="top black">
    <button ion-item (click)="goToSettingsPage()">
      <ion-icon color="primary" name="settings" item-left></ion-icon>
      设置
    </button>
    <ion-item>
      <ion-icon color="secondary" name="globe" item-left></ion-icon>
      <ion-label>服务器</ion-label>

      <ion-select [(ngModel)]="server" okText="确定" cancelText="取消" (ionChange)="onServerChange()">
        <ion-option value="forum.webfullstack.me">美国</ion-option>
        <ion-option value="server.xiv.im">新加坡</ion-option>
        <!--<ion-option value="xiv.t1bao.com">中国(尚未开通)</ion-option>-->
      </ion-select>
    </ion-item>
    <button ion-item (click)="logout()">
      <ion-icon color="danger" name="exit" item-left></ion-icon>
      退出
    </button>
  </ion-list>

  <ion-list no-lines class="top black">
    <button ion-item (click)="goToAboutPage()">
      <ion-icon color="primary" name="information-circle" item-left></ion-icon>
      关于xiv
    </button>
  </ion-list>
</ion-content>